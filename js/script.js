!function(){let b=document.getElementById("music-container"),c=document.getElementById("play"),d=document.getElementById("prev"),e=document.getElementById("next"),f=document.getElementById("audio"),g=document.getElementById("progress"),h=document.getElementById("progress-container"),i=document.getElementById("title"),j=document.getElementById("cover"),k=["roadtrip","mask","change my clothes"];var l=0,m=[];let a=["https://i.scdn.co/image/ab67616d0000b273803534b1316c44da0111c635","https://i.scdn.co/image/ab67616d0000b27337a9629d2199d4f7f417af97","https://i.scdn.co/image/ab67616d0000b27362203a8dd802c65103193dbe"];function n(b){i.innerHTML=k[b],f.src=m[b],j.src=a[b]}function o(){b.classList.add("play"),c.querySelector("i.fas").classList.remove("fa-play"),c.querySelector("i.fas").classList.add("fa-pause"),f.play()}function p(){--l<0&&(l=k.length-1),n(l),o()}function q(){++l>k.length-1&&(l=0),n(l),o()}function r(a){let{duration:b,currentTime:c}=a.srcElement;g.style.width=`${c/b*100}%`}async function s(){try{let a=await fetch("https://269bdcbf-8e2f-4567-bfd0-5179d00382ba.id.repl.co/dream-music");m=await a.json()}catch(b){console.log(b)}}function t(a){let b=this.clientWidth,c=a.offsetX,d=f.duration;f.currentTime=c/b*d}"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js"),document.getElementById("cover").src=a[0],document.getElementById("title").innerHTML="roadtrip",async function(){await s(),document.getElementById("audio").src=m[0],c.addEventListener("click",()=>{b.classList.contains("play")?(b.classList.remove("play"),c.querySelector("i.fas").classList.add("fa-play"),c.querySelector("i.fas").classList.remove("fa-pause"),f.pause()):o()}),d.addEventListener("click",p),e.addEventListener("click",q),f.addEventListener("timeupdate",r),h.addEventListener("click",t),f.addEventListener("ended",q),f.addEventListener("pause",()=>{b.classList.remove("play"),c.querySelector("i.fas").classList.add("fa-play"),c.querySelector("i.fas").classList.remove("fa-pause")}),f.addEventListener("play",()=>{b.classList.add("play"),c.querySelector("i.fas").classList.remove("fa-play"),c.querySelector("i.fas").classList.add("fa-pause")}),f.addEventListener("error",async()=>{await s(),document.getElementById("audio").src=m[l]})}()}()
